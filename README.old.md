# نظام فوترة عدادات الكهرباء ⚡

> نظام متكامل لإدارة عدادات الكهرباء والفوترة مع واجهة برمجية (REST API) للربط مع تطبيقات الويب والأندرويد

[![TypeScript](https://img.shields.io/badge/TypeScript-5.x-blue)](https://www.typescriptlang.org/)
[![Next.js](https://img.shields.io/badge/Next.js-15.x-black)](https://nextjs.org/)
[![React](https://img.shields.io/badge/React-18.x-61dafb)](https://reactjs.org/)
[![MySQL](https://img.shields.io/badge/MySQL-8.x-4479a1)](https://www.mysql.com/)
[![License](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)

## 📋 المحتويات

- [نظرة عامة](#نظرة-عامة)
- [المميزات](#المميزات)
- [التقنيات المستخدمة](#التقنيات-المستخدمة)
- [التثبيت](#التثبيت)
- [الاستخدام](#الاستخدام)
- [API Documentation](#api-documentation)
- [لقطات الشاشة](#لقطات-الشاشة)
- [المساهمة](#المساهمة)
- [الترخيص](#الترخيص)

## 🎯 نظرة عامة

نظام فوترة عدادات الكهرباء هو حل برمجي شامل مصمم لإدارة عدادات الكهرباء وعمليات الفوترة بكفاءة عالية. يوفر النظام واجهة ويب سهلة الاستخدام ووا جهة برمجية (API) كاملة للربط مع تطبيقات الهاتف المحمول.

### الفئات المستهدفة

- شركات الكهرباء والمرافق
- المجمعات السكنية والتجارية
- مقدمي خدمات الفوترة
- المطورين الذين يحتاجون إلى API جاهزة

## ✨ المميزات

### إدارة العملاء
- ✅ تسجيل معلومات العملاء الكاملة
- ✅ البحث والتصفية المتقدمة
- ✅ تتبع حالة كل عميل
- ✅ ربط العملاء بعدادات متعددة

### إدارة العدادات
- ✅ دعم أنواع مختلفة (منزلي، تجاري، صناعي)
- ✅ تتبع حالة العدادات (نشط، معطل، صيانة)
- ✅ تسجيل الموقع الجغرافي
- ✅ سجل كامل لقراءات كل عداد

### نظام الفوترة
- ✅ حساب تلقائي للفواتير بناءً على القراءات
- ✅ دعم شرائح التعريفات المختلفة
- ✅ حساب الضرائب ورسوم الخدمة
- ✅ تتبع حالة الفواتير (معلقة، مدفوعة، متأخرة، ملغاة)

### إدارة المدفوعات
- ✅ دعم طرق دفع متعددة (نقدي، بطاقة، تحويل، محفظة)
- ✅ تسجيل تفاصيل كل دفعة
- ✅ تحديث تلقائي لحالة الفواتير
- ✅ سجل كامل للمدفوعات

### نظام الشكاوى
- ✅ تقديم ومتابعة الشكاوى
- ✅ تصنيف الشكاوى حسب النوع والأولوية
- ✅ تعيين الشكاوى للموظفين
- ✅ تتبع حالة كل شكوى

### الإشعارات
- ✅ إرسال إشعارات للعملاء
- ✅ تنبيهات الفواتير الجديدة
- ✅ تذكير بمواعيد الدفع
- ✅ إشعارات الشكاوى والتحديثات

### التقارير والإحصائيات
- ✅ لوحة تحكم شاملة
- ✅ إحصائيات فورية
- ✅ تقارير الاستهلاك
- ✅ تقارير المدفوعات

## 🛠 التقنيات المستخدمة

### Backend
- **Next.js 15** - إطار عمل React للتطبيقات الكاملة
- **tRPC** - واجهة برمجية آمنة من حيث الأنواع (Type-safe API)
- **Drizzle ORM** - أداة ORM حديثة وسريعة
- **MySQL** - قاعدة بيانات علائقية قوية
- **JWT** - نظام مصادقة آمن

### Frontend
- **React 18** - مكتبة بناء واجهات المستخدم
- **TypeScript** - لغة برمجة آمنة من حيث الأنواع
- **Tailwind CSS** - إطار عمل CSS حديث
- **shadcn/ui** - مكونات UI جاهزة وقابلة للتخصيص
- **Lucide Icons** - مكتبة أيقونات حديثة

### DevOps
- **pnpm** - مدير حزم سريع وفعال
- **ESLint** - أداة فحص الكود
- **Prettier** - أداة تنسيق الكود

## 📦 التثبيت

### المتطلبات الأساسية

```bash
Node.js >= 18.x
pnpm >= 8.x
MySQL >= 8.x
```

### خطوات التثبيت

1. **استنساخ المشروع**

```bash
git clone <repository-url>
cd electricity-billing-api
```

2. **تثبيت الحزم**

```bash
pnpm install
```

3. **إعداد البيئة**

أنشئ ملف `.env` في جذر المشروع:

```env
DATABASE_URL=mysql://username:password@localhost:3306/electricity_billing
JWT_SECRET=your-secret-key-here
```

4. **إنشاء قاعدة البيانات**

```bash
pnpm db:push
```

5. **إدراج البيانات التجريبية (اختياري)**

```bash
npx tsx scripts/seed-data.ts
```

6. **تشغيل الخادم**

```bash
pnpm dev
```

افتح المتصفح على: `http://localhost:3000`

## 🚀 الاستخدام

### لوحة التحكم

بعد تشغيل الخادم، يمكنك الوصول إلى لوحة التحكم عبر المتصفح. ستجد:

- **الصفحة الرئيسية**: نظرة عامة على النظام مع إحصائيات شاملة
- **إدارة العملاء**: عرض وإضافة وتعديل العملاء
- **إدارة العدادات**: إدارة جميع العدادات في النظام
- **إدارة الفواتير**: عرض وإنشاء الفواتير
- **إدارة المدفوعات**: تسجيل ومتابعة المدفوعات
- **الشكاوى**: متابعة ومعالجة الشكاوى

### استخدام API

جميع نقاط API متاحة عبر tRPC. إليك مثال على الاستخدام:

```typescript
// الحصول على جميع العملاء
const customers = await trpc.customers.getAll.query();

// إنشاء عميل جديد
const newCustomer = await trpc.customers.create.mutate({
  fullName: "أحمد محمد",
  phone: "0551234567",
  email: "ahmed@email.com",
  address: "الرياض، حي النزهة",
  city: "الرياض",
  district: "النزهة",
  registrationDate: "2024-01-15",
  status: "نشط"
});

// الحصول على عدادات عميل معين
const meters = await trpc.meters.getByCustomerId.query({
  customerId: 1
});
```

## 📚 API Documentation

للاطلاع على التوثيق الكامل للواجهة البرمجية، راجع ملف [DOCUMENTATION.md](./DOCUMENTATION.md).

### نقاط API الرئيسية

| Router | الوصف |
|--------|-------|
| `customers` | إدارة العملاء |
| `meters` | إدارة العدادات |
| `readings` | إدارة القراءات |
| `invoices` | إدارة الفواتير |
| `payments` | إدارة المدفوعات |
| `complaints` | إدارة الشكاوى |
| `notifications` | إدارة الإشعارات |

## 📸 لقطات الشاشة

### الصفحة الرئيسية
![الصفحة الرئيسية](screenshots/home.png)

### إدارة العملاء
![إدارة العملاء](screenshots/customers.png)

## 🤝 المساهمة

نرحب بالمساهمات من الجميع! إذا كنت ترغب في المساهمة:

1. Fork المشروع
2. أنشئ فرع للميزة الجديدة (`git checkout -b feature/AmazingFeature`)
3. Commit التغييرات (`git commit -m 'Add some AmazingFeature'`)
4. Push إلى الفرع (`git push origin feature/AmazingFeature`)
5. افتح Pull Request

## 📝 الترخيص

هذا المشروع مرخص تحت رخصة MIT - راجع ملف [LICENSE](LICENSE) للتفاصيل.

## 👨‍💻 المطور

تم تطوير هذا النظام بواسطة **Manus AI**

## 📞 الدعم

إذا واجهت أي مشاكل أو لديك أسئلة، يمكنك:

- فتح Issue في GitHub
- التواصل عبر البريد الإلكتروني
- مراجعة التوثيق الفني

---

**ملاحظة:** هذا المشروع في مرحلة التطوير النشط. نرحب بأي اقتراحات أو ملاحظات!

⭐ إذا أعجبك المشروع، لا تنسى إعطائه نجمة على GitHub!
